(()=>{"use strict";class e{constructor(e,t,r){this.client=e,this.details=t,this.amount=r}format(){return`${this.client} owes $${this.amount} for ${this.details}`}}class t{constructor(e,t,r){this.recipient=e,this.details=t,this.amount=r}format(){return`${this.recipient} is owed $${this.amount} for ${this.details}`}}const r=document.querySelector(".new-item-form"),n=document.querySelector("#type"),o=document.querySelector("#tofrom"),c=document.querySelector("#details"),i=document.querySelector("#amount"),a=document.querySelector("ul"),s=new class{constructor(e){this.container=e}render(e,t,r){const n=document.createElement("li"),o=document.createElement("h4");o.innerText=t,n.append(o);const c=document.createElement("div");c.innerText="X",c.classList.add("delete"),n.append(c);const i=document.createElement("p");i.innerText=e.format(),n.append(i),"start"===r?this.container.prepend(n):this.container.append(n)}}(a),u=document.querySelector("#error");a.addEventListener("click",(e=>{const t=e.target;if("delete"==t.className){const e=t.parentElement;e.parentNode.removeChild(e)}})),r.addEventListener("submit",(r=>{if(r.preventDefault(),!o.value||!c.value||!i.value){if(document.querySelector(".error"))return;const e=document.createElement("p");return e.innerText="*All fields are required",e.classList.add("error"),void u.appendChild(e)}let a,l;a=[o.value,c.value,i.valueAsNumber],l="invoice"===n.value?new e(...a):new t(...a),s.render(l,n.value,"end"),o.value="",c.value="",i.value="",document.querySelector(".error")&&u.removeChild(document.querySelector(".error"))}))})();